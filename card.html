<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout-Card - ClearVinPro</title>
  <link rel="shortcut icon" href="assets/dc3ed093-4729-4a71-90ce-59230868250e.jpg" type="image/x-icon">

  <link rel="stylesheet" href="style1.css">
    <link rel="stylesheet" href="style.css">
    <link
            rel="stylesheet"
            type="text/css"
            href="https://www.paypalobjects.com/webstatic/en_US/developer/docs/css/cardfields.css"
        />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
   <!-- FONT FAMILY -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Play:wght@400;700&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  
    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- ANIMATION -->
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />
    <!-- ANIMATION -->

</head>
<body>
     <!-- LOADER -->
  <!-- <div  class="ld">
 
    <div class="animate__animated animate__bounceInDown loader container-fluid d-flex justify-content-center align-items-center" id="loader">
      <svg  xml:space="preserve"  viewBox="0 0 254.532 254.532"  xmlns:xlink="http://www.w3.org/1999/xlink"  xmlns="http://www.w3.org/2000/svg"  id="Capa_1"  version="1.1" class="wheel"
      >
        <g>
          <path
            d="M127.267,0C57.092,0,0,57.091,0,127.266s57.092,127.266,127.267,127.266c70.174,0,127.266-57.091,127.266-127.266
            S197.44,0,127.267,0z M127.267,217.656c-49.922,0-90.391-40.468-90.391-90.39s40.469-90.39,90.391-90.39
            c49.92,0,90.39,40.468,90.39,90.39S177.186,217.656,127.267,217.656z"
            id="tire"
          ></path>
          <path
            d="M127.267,48.578c-43.39,0-78.689,35.299-78.689,78.688c0,43.389,35.3,78.688,78.689,78.688
            c43.389,0,78.688-35.299,78.688-78.688C205.955,83.877,170.655,48.578,127.267,48.578z M195.878,122.249h-38.18
            c-0.78-4.825-2.686-9.275-5.435-13.079l26.954-26.954C188.679,93.112,194.771,106.996,195.878,122.249z M132.204,58.648
            c15.244,1.087,29.123,7.156,40.025,16.591l-26.948,26.949c-3.804-2.748-8.253-4.653-13.077-5.433V58.648z M122.329,58.648v38.106
            c-4.824,0.78-9.274,2.685-13.078,5.434L82.302,75.24C93.204,65.805,107.085,59.735,122.329,58.648z M75.313,82.217l26.955,26.954
            c-2.749,3.803-4.654,8.253-5.434,13.077h-38.18C59.761,106.996,65.853,93.113,75.313,82.217z M58.643,132.123h38.192
            c0.779,4.824,2.685,9.274,5.434,13.078l-27.029,27.029C65.788,161.308,59.714,147.398,58.643,132.123z M122.329,195.884
            c-15.285-1.09-29.197-7.188-40.113-16.666l27.035-27.035c3.804,2.749,8.254,4.654,13.078,5.434V195.884z M122.329,147.459v0.072
            c-2.131-0.518-4.131-1.36-5.953-2.474l0.047-0.047c-2.85-1.738-5.244-4.132-6.982-6.983l-0.046,0.046
            c-1.114-1.822-1.956-3.821-2.474-5.952h0.071c-0.385-1.585-0.611-3.233-0.611-4.937c0-1.704,0.227-3.352,0.611-4.937h-0.071
            c0.518-2.13,1.359-4.129,2.474-5.951l0.046,0.046c1.738-2.85,4.133-5.245,6.982-6.982l-0.047-0.047
            c1.822-1.114,3.822-1.957,5.953-2.474v0.072c1.586-0.385,3.233-0.612,4.938-0.612s3.352,0.227,4.938,0.612v-0.072
            c2.131,0.518,4.13,1.359,5.951,2.473l-0.047,0.047c2.851,1.737,5.245,4.132,6.983,6.982l0.046-0.046
            c1.115,1.822,1.957,3.822,2.475,5.953h-0.071c0.385,1.585,0.611,3.233,0.611,4.937c0,1.704-0.227,3.352-0.611,4.937h0.071
            c-0.518,2.131-1.359,4.131-2.475,5.953l-0.046-0.046c-1.738,2.85-4.133,5.244-6.983,6.982l0.047,0.046
            c-1.821,1.114-3.82,1.956-5.951,2.474v-0.072c-1.586,0.385-3.233,0.612-4.938,0.612S123.915,147.845,122.329,147.459z
            M132.204,195.884v-38.267c4.824-0.78,9.273-2.685,13.077-5.433l27.034,27.034C161.4,188.696,147.488,194.794,132.204,195.884z
            M179.292,172.23l-27.028-27.028c2.749-3.804,4.654-8.254,5.435-13.079h38.191C194.818,147.398,188.745,161.308,179.292,172.23z"
            id="rim"
          ></path>
        </g>
      
      </svg>
      
    
    </div>
    
    </div> -->
   <!-- LOADER -->
<!-- header -->
 <div class="HEAD py-2">
<div class="container  py-0 text-dark d-flex flex-row">
    <div class="col-6 m-0 p-0 ">
        <div class="d-flex flex-row smk text-dark align-items-center " >
            <!-- <img class="  imgflg me-1" src="assets/depositphotos_25587499-stock-photo-flag-of-uk.jpg" alt=""> -->
            <!-- <img class="col-2 col-lg-1 imgflg me-2" src="assets/flag.png" alt=""> -->
            <i class="fa fa-phone pe-2 ms-0 ms-lg-2 eme text-dark" aria-hidden="true"></i>

            <span class="num eme text-dark">+44 7863 635122</span>
            
        </div>
    </div>
    <div class="col-6 d-flex  justify-content-end align-items-center">
        <i class="fa fa-envelope eme px-1 mt-1 text-dark" aria-hidden="true"></i>
            <span class="num px-2 eme text-lowercase"> 
                
                <a>support@ClearVinPro.com</a>
            </span>
    </div>

  </div>
</div>
 <!-- header -->

 <div class="col-12 d-flex justify-content-center align-items-center pt-5">
  
    <h1 class="text-center    py-2">Checkout</h1>
 </div>
    <div class="container mt-2">

     
        <div class="row">
            <!-- Billing Form (Left Column) -->
            <!-- <div class="col-md-7" id="donwnone">
                <div class="card border-secondary">
                    <div class="card-body">
                
                        <form id="checkoutForm" >
                            <div class="form-row">
                                <div class="col-md-6">
                                    <input type="text" name="first_name" class="form-control2 col-12" placeholder="First Name" required>
                                </div>
                                <div class="col-md-6">
                                    <input type="text" name="last_name" class="form-control2 col-12 " placeholder="Last Name" required>
                                </div>
                            </div>
                            <div class="form-row">
                            <div class="col-md-6 ">
                            <input type="text" name="vin_number1" class="form-control2 col-12" placeholder="VIN Number" required>
                        
                        </div>
                        <div class="col-md-6 ">
                        <input type="text" name="reg_number 2" class="form-control2 col-12" placeholder="License Plate / Registration Number" required>
                        </div>
                    </div>
        
                        <div class="form-row">
                                <div class="col-md-6">
                                   <input name="country" placeholder="Country" class="form-control2 col-12" required type="text">
                                 
                                </div>
                                <div class="col-md-6">
                                    <input type="text" name="state" class="form-control2 col-12" placeholder="State / City" required>
                                
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col-md-6">
                            <input type="text" name="postcode" class="form-control2 col-12" placeholder="Postcode / Zip" required>

                                </div>
                                <div class="col-md-6">
                            <input type="tel" name="phone" class="form-control2 col-12" placeholder="Phone Number" required>

                                </div>
                            </div>
                            
                           <div class="form-row">
                            
                            <div class="col-md-6 col-lg-12">
                            <input type="email" name="email" class="form-control2 col-12" placeholder="Email Address" required>
                        </div>
                    </div>    
                    <div class="form-row">
                        <div class="col-md-6 col-lg-12" >
                            <textarea name="order_notes" class="form-control2 col-12" placeholder="Order notes (optional)" rows="3" cols="12"></textarea>


                    </div>
   
                </div>
             <button onclick="fn()" type="submit" class="btn btns mt-3">CheckOut</button>
                        
                        </form>
                        <p id="result" class="text-center mt-3"></p>
                    </div>
                </div>
            </div> -->
    
            <!-- Package Details (Right Column) -->
           
            <div class="col-md-5 mx-auto trt" id="nonewith">
                <div class="card border-secondary">
                    <div class="card-body">
                        <h5 class="card-title text-center" id="packageName">Package Name</h5>
                        <h1 class="text-center" id="packagePrice">$0.00</h1>
                        <table class="col-12 pt-2">
                            <tr class="col-12 d-flex flex-row justify-content-around">
                                <td class="col-6" id="packageName1"></td>
                                <td class="col-6 text-end" id="packagePrice1"></td>
                            </tr>
                            <tr class="col-12 d-flex flex-row justify-content-around">
                                <td class="col-6">Tax</td>
                                <td class="col-6 text-end" id="packageTax">$0.00</td>
                            </tr>
                            <tr class="col-12 d-flex flex-row justify-content-around">
                                <td class="col-6">SubTotal</td>
                                <td class="col-6 text-end" id="packagePrice2"></td>
                            </tr>
                        </table>
                    </div>
            
                    <!-- PayPal Button -->
                    <!-- <button id="paypal-button"  type="submit" class="btns col-lg-6 mx-auto mt-3"><i class="fas fa-shopping-cart px-3"></i> CheckOut</button>
                -->
                    <div id="paypal-button-container" class="paypal-button-container"></div>
                </div>
            </div>
            <!--  -->
        </div>
   
    </div>

    <!-- client id of payapal -->
    <!-- <script src="check.js"></script> -->
    <script src="https://www.paypal.com/sdk/js?client-id="
        ></script>
     <!--  -->

 <script>
    var package1 = JSON.parse(localStorage.getItem("selectedPackage"));
   

paypal.Buttons({
        createOrder: function(data, actions) {
            return actions.order.create({
                purchase_units: [{
                    amount: {
                        value: `${package1.price}`
                    }
                }]
            })
        }
    }).render('#paypal-button-container')
 

 
 </script>

    <script  type="module">

// paypal
// Load PayPal script dynamically (if it's not already included in your HTML)
if (!window.paypal) {
    const script = document.createElement('script');
    script.src = "https://www.paypal.com/sdk/js?client-id=YOUR_PAYPAL_CLIENT_ID";
    script.onload = function() {
        renderPaypalButton();
    };
    document.head.appendChild(script);
}

// Function to render the PayPal button
function renderPaypalButton() {
    const package1 = JSON.parse(localStorage.getItem("selectedPackage"));
    console.log(package1);
    if (package1) {
        document.getElementById("packageName").textContent = package1.name;
        document.getElementById("packageName1").textContent = package1.name;
        document.getElementById("packagePrice").textContent = `$${package1.price.toFixed(2)}`;
        document.getElementById("packagePrice1").textContent = `$${package1.price.toFixed(2)}`;
        document.getElementById("packagePrice2").textContent = `$${package1.price.toFixed(2)}`;

        // PayPal Button Integration
        paypal.Buttons({
            // Set up the transaction
            createOrder: function(data, actions) {
                return actions.order.create({
                    purchase_units: [{
                        amount: {
                            value: package1.price.toFixed(2) // Use the price from localStorage
                        }
                    }]
                });
            },
            // Finalize the transaction
            onApprove: function(data, actions) {
                return actions.order.capture().then(function(details) {
                    alert('Transaction completed by ' + details.payer.name.given_name);
                });
            }
        }).render('#paypal-button-container');
    }
}
// paypal
// loader
setTimeout(function() {
  const loader = document.getElementById('loader');
  
  // Add the animation class
  loader.classList.add('animate__animated', 'animate__slideOutUp');
  
  // Listen for when the animation ends
  loader.addEventListener('animationend', function() {
    loader.style.display = 'none'; // Hide the loader after the animation ends
    document.querySelector('.ld').style.display = 'none'; // Hide the full-screen overlay
  }, { once: true }); // The listener will remove itself after being called once
  
}, 1500); // 3500 milliseconds = 3.5 seconds
        // loader
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";
        
        // Firebase configuration
        const firebaseConfig = {
          apiKey: "AIzaSyDWvgs60p2gxh6qUKWr2OW63udRbkJ79Bc",
          authDomain: "vinauditpro.firebaseapp.com",
          projectId: "vinauditpro",
          storageBucket: "vinauditpro.firebasestorage.app",
          messagingSenderId: "94890464255",
          appId: "1:94890464255:web:cd9a44a688d26f93f54dca",
          measurementId: "G-9CE7NTCS43"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
    
        // Web3 Forms initialization (Add your Access Key)
        const web3AccessKey = "43e5d5d7-aade-4ad7-b221-fffd261a3a57"; // Your Web3Forms API Key
    
        // Fetch and display package details from localStorage
        const package1 = JSON.parse(localStorage.getItem("selectedPackage"));
        if (package1) {
          document.getElementById("packageName").textContent = `${package1.name}` ;
          document.getElementById("packageName1").textContent = `${package1.name}`;

        document.getElementById("packagePrice").textContent = `$${package1.price.toFixed(2)}`;
        document.getElementById("packagePrice1").textContent = `$${package1.price.toFixed(2)}`;
        document.getElementById("packagePrice2").textContent = `$${package1.price.toFixed(2)}`;
        document.getElementById("packagePrice3").textContent = `$${package1.price.toFixed(2)}`;

      
        }
    
        // Form submission event listener
        //  
        
        document.getElementById("checkoutForm").addEventListener("submit", async (e) => {
  e.preventDefault();

  const formData = {
    firstName: e.target.first_name.value,
    lastName: e.target.last_name.value,
    vinNumber1: e.target.vin_number1.value,
    vinNumber2: e.target.vin_number2.value,
    country: e.target.country.value,
    state: e.target.state.value,
    postcode: e.target.postcode.value,
    phone: e.target.phone.value,
    email: e.target.email.value,
    orderNotes: e.target.order_notes.value,
    packageName: package1.name,
    packagePrice: package1.price,
    packageDetails: package1.details,
  };

  
  try {
    // Add data to Firebase Firestore
    const docRef = await addDoc(collection(db, "Checkout"), formData);
    document.getElementById("result").textContent = "Order placed successfully!";
    // Show the div when submission is successful
    document.getElementById("nonewith").classList.add("trtsh") // Show the div
    document.getElementById("nonewith").classList.add("animate__animated", "animate__bounceInUp"); // Optional animation
    
    // Prepare data for Web3 Forms
    const web3FormData = {
      access_key: web3AccessKey,
      first_name: formData.firstName,
      last_name: formData.lastName,
      vin_number1: formData.vinNumber1,
      vin_number2: formData.vinNumber2,
      country: formData.country,
      state: formData.state,
      postcode: formData.postcode,
      phone: formData.phone,
      email: formData.email,
      order_notes: formData.orderNotes,
      package_name: formData.packageName,
      package_price: formData.packagePrice,
    };

    // Submit the form data to Web3 Forms API
    const response = await fetch("https://api.web3forms.com/submit", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Accept: "application/json",
      },
      body: JSON.stringify(web3FormData),
    });

    const result = await response.json();
    if (response.status === 200) {
      document.getElementById("result").textContent = "Form submitted successfully to Web3Forms";
    } else {
      document.getElementById("result").textContent = `Error: ${result.message}`;
    }

    // Reset form after submission
    // e.target.reset();
  } catch (error) {
    document.getElementById("result").textContent = "Error placing order: " + error.message;
  }
});
 
        // 
    </script>
    
</body>
</html>